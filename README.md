# –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏

## –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É
–¶–µ–π –ø—Ä–æ–µ–∫—Ç –º—ñ—Å—Ç–∏—Ç—å –¥–≤—ñ –æ—Å–Ω–æ–≤–Ω—ñ –∑–∞–¥–∞—á—ñ:
1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—ñ–ª—å—Ç—Ä–∞ –ë–ª—É–º–∞**.
2. **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ HyperLogLog —ñ–∑ —Ç–æ—á–Ω–∏–º –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–æ–º —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤**.

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–∏—Ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –Ω–∞–±–ª–∏–∂–µ–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø–∞–º'—è—Ç—ñ —Ç–∞ —à–≤–∏–¥–∫–æ—Å—Ç—ñ –æ–±—Ä–æ–±–∫–∏.

---
## –ó–∞–≤–¥–∞–Ω–Ω—è 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ—ñ–ª—å—Ç—Ä–∞ –ë–ª—É–º–∞

### –û–ø–∏—Å
–†–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è **—Ñ—ñ–ª—å—Ç—Ä –ë–ª—É–º–∞**, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è –ø–∞—Ä–æ–ª—å —Ä–∞–Ω—ñ—à–µ, –±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å–∞–º–∏—Ö –ø–∞—Ä–æ–ª—ñ–≤. –¶–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –æ–±—Å—è–≥–∞–º–∏ –¥–∞–Ω–∏—Ö.

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ —É–º–æ–≤–∏
- **–ö–ª–∞—Å `BloomFilter`** —Ä–µ–∞–ª—ñ–∑—É—î –¥–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É —Ñ—ñ–ª—å—Ç—Ä —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –µ–ª–µ–º–µ–Ω—Ç–∞.
- **–§—É–Ω–∫—Ü—ñ—è `check_password_uniqueness`** –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–æ–≤—ñ –ø–∞—Ä–æ–ª—ñ –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å.
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ.

### –ó–∞–ø—É—Å–∫ –∫–æ–¥—É
```python
if __name__ == "__main__":
    bloom = BloomFilter(size=1000, num_hashes=3)
    existing_passwords = ["password123", "admin123", "qwerty123"]
    for password in existing_passwords:
        bloom.add(password)
    new_passwords_to_check = ["password123", "newpassword", "admin123", "guest"]
    results = check_password_uniqueness(bloom, new_passwords_to_check)
    for password, status in results.items():
        print(f"–ü–∞—Ä–æ–ª—å '{password}' - {status}.")
```

### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
–ü–∞—Ä–æ–ª—å 'password123' ‚Äî –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π.
–ü–∞—Ä–æ–ª—å 'newpassword' ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π.
–ü–∞—Ä–æ–ª—å 'admin123' ‚Äî –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π.
–ü–∞—Ä–æ–ª—å 'guest' ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π.
```

---
## –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ HyperLogLog —ñ–∑ —Ç–æ—á–Ω–∏–º –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–æ–º —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

### –û–ø–∏—Å
–£ —Ü—å–æ–º—É –∑–∞–≤–¥–∞–Ω–Ω—ñ –ø–æ—Ä—ñ–≤–Ω—é—é—Ç—å—Å—è –¥–≤–∞ –º–µ—Ç–æ–¥–∏ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å –∑ –ª–æ–≥-—Ñ–∞–π–ª—É:
1. **–¢–æ—á–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `set()`.
2. **–ù–∞–±–ª–∏–∂–µ–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `HyperLogLog`.

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ —É–º–æ–≤–∏
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥-—Ñ–∞–π–ª—É `lms-stage-access.log` —Ç–∞ –æ–±—Ä–æ–±–∫–∞ IP-–∞–¥—Ä–µ—Å.
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–Ω–æ–≥–æ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å.
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —á–µ—Ä–µ–∑ `HyperLogLog`.
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞ —Ç–æ—á–Ω—ñ—Å—Ç—é —Ç–∞ —á–∞—Å–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

### –ó–∞–ø—É—Å–∫ –∫–æ–¥—É
```python
if __name__ == "__main__":
    log_file = "lms-stage-access.log"
    ip_addresses = load_ip_addresses(log_file)
    start_time = time.time()
    exact_count = count_unique_ips_set(ip_addresses)
    exact_time = time.time() - start_time
    start_time = time.time()
    hll_count = count_unique_ips_hyperloglog(ip_addresses)
    hll_time = time.time() - start_time
    print("–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:")
    print(f"{'–ú–µ—Ç–æ–¥':<25} {'–£–Ω—ñ–∫–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏':<20} {'–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (—Å–µ–∫.)':<20}")
    print(f"{'–¢–æ—á–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫':<25} {exact_count:<20} {exact_time:<20.5f}")
    print(f"{'HyperLogLog':<25} {hll_count:<20} {hll_time:<20.5f}")
```

### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:
–ú–µ—Ç–æ–¥                     –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏    –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (—Å–µ–∫.)    
–¢–æ—á–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫         80000                 0.72                    
HyperLogLog               79645                 0.08                    
```

---
## –í–∏—Å–Ω–æ–≤–∫–∏
- **–§—ñ–ª—å—Ç—Ä –ë–ª—É–º–∞** –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é—î –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—ñ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ —ó—Ö–Ω—å–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è.
- **HyperLogLog** –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –æ—Ü—ñ–Ω–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å –∑ –Ω–µ–∑–Ω–∞—á–Ω–æ—é –ø–æ—Ö–∏–±–∫–æ—é, –∑–Ω–∞—á–Ω–æ –ø–µ—Ä–µ–≤–µ—Ä—à—É—é—á–∏ `set()` –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Å—É—á–∞—Å–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. üöÄ

